# 問題 2019-08-03

- 設定ファイルmodel_configの内容がごちゃごちゃ
- transformerの実行に最低限必要な前処理とユーザー選択の前処理の分離が必要

## 前処理の区分

- transformerモデルが最低限やるべき前処理
    - トークナイズされたテキストを読み込み、トークンをIDに置き換える
        - データファイル、辞書ファイルの読み込み
        - subword regularizationは捨てる

- ユーザーの裁量が大きく及ぶべき前処理
    - 単語分割（mecabとかmosesとか）
    - sentence piece
    - 結局トークン化をどうやるかって問題

## 設定ファイルに書くべきこと

- 辞書ファイルの所在
- 訓練データ
    - source, target
- validation data
    - source/target

## 設定ファイルに書かなくていいこと

- テストデータの所在
- original corpus
- 前処理途中ファイルの所在

## 新たに追加すべきスクリプト

### 前処理用テンプレートスクリプト

- preprocessing.py みたいな
- トークナイズされたtrain/devデータおよび辞書を作成する所までやるやつ

### テスト用テンプレート

- 最新のチェックポイントで翻訳
- BLEU eval


# 問題 2019-08-03

translate.py ファイルがぐちゃぐちゃ

- preprocess をそこに置くべきじゃない
- devのBLEUは外注する



# 修正計画

2019-08-03
設定ファイルをクラス変数方式にするか（現状）、インスタンス変数方式にするか

